{"version":3,"sources":["tw_nueww/Resources/Public/Components/Article.critical.min.js","tw_nueww/Resources/Private/Partials/Components/Image/Critical.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Polyfills/Array.findIndex.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Polyfills/Element.closest.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Polyfills/Element.matches.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Polyfills/Object.assign.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Polyfills/String.startsWith.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Polyfills/window.requestAnimationFrame.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Scripts/$.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Scripts/AJAX.js","tw_nueww/Resources/Private/Partials/Global/Base/Critical/_Scripts/DOM-Observer.js"],"names":["replace","oldElement","oldClassName","className","noscript","querySelector","parentElement","parentNode","dom","document","createElement","innerHTML","textContent","newElement","firstElementChild","src","getAttribute","substr","image","Image","onload","replaceChild","onerror","window","console","error","lazyLoad","elem","observer","observe","IntersectionObserver","entries","forEach","entry","intersectionRatio","unobserve","target","root","rootMargin","threshold","nueww","register","Array","prototype","findIndex","Object","defineProperty","value","predicate","this","TypeError","list","length","thisArg","arguments","i","call","enumerable","configurable","writable","Element","closest","s","matches","ownerDocument","querySelectorAll","el","item","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","assign","index","source","key","hasOwnProperty","String","startsWith","searchString","position","indexOf","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","$","selector","slice","jsonp","url","callbackCount","head","script","appendChild","data","removeChild","process","result","JSON","parse","e","ajax","jsonpMode","oReq_1","XMLHttpRequest","addEventListener","response","open","send","init","node","lastNode","pop","contains","initObserverStack","initTimers","intersectionObserver","keys","undefined","elementObservers","defaultConfig","attributes","childList","characterData","subtree","MutationObserver","mutations","registeredSelectors","mutation","addedNodes","nodeType","lazy","documentElement","config","disconnect"],"mappings":"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","file":"nueww-critical.min.js","sourcesContent":["","(() => {\n  function replace(oldElement) {\n    const oldClassName = oldElement.className;\n    const noscript = oldElement.querySelector('noscript');\n    const parentElement = oldElement.parentNode;\n    const dom = document.createElement('div');\n\n    dom.innerHTML = noscript.textContent;\n\n    const newElement = dom.firstElementChild;\n    const src = newElement.getAttribute('src').replace(/\\s/g, '');\n\n    newElement.className = oldClassName;\n\n    if (src && src.substr(0, 5) !== 'data:') {\n      const image = new Image();\n\n      image.onload = () => {\n        parentElement.replaceChild(newElement, oldElement);\n      };\n      image.onerror = () => {\n        window.console.error(`Error lazy loading image ${src}`);\n      };\n      image.src = src;\n    } else {\n      parentElement.replaceChild(newElement, oldElement);\n    }\n  }\n\n  function callback(entries, observer) {\n    entries.forEach((entry) => {\n      if (entry.intersectionRatio > 0.1) {\n        observer.unobserve(entry.target);\n\n        replace(entry.target);\n      }\n    });\n  }\n\n  const observer = window.IntersectionObserver ? new IntersectionObserver(callback, {\n    root: null,\n    rootMargin: '100px 0px 100px 0px',\n    threshold: 0.1,\n  }) : {\n    observe: replace,\n  };\n\n  function lazyLoad(elem) {\n    observer.observe(elem);\n  }\n\n  window.nueww.observer.register('div.park-image', (elem) => {\n    lazyLoad(elem);\n  }, false);\n})();\n","if (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, 'findIndex', {\n    value: function(predicate) {\n      'use strict';\n      if (this == null) {\n        throw new TypeError('Array.prototype.findIndex called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    enumerable: false,\n    configurable: false,\n    writable: false\n  });\n}","// See: https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\nif (window.Element && !Element.prototype.closest) {\n  Element.prototype.closest =\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i,\n        el = this;\n      do {\n        i = matches.length;\n        while (--i >= 0 && matches.item(i) !== el) {};\n      } while ((i < 0) && (el = el.parentElement));\n      return el;\n    };\n}\n","// See: https://developer.mozilla.org/de/docs/Web/API/Element/matches\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i = matches.length;\n      while (--i >= 0 && matches.item(i) !== this) {}\n      return i > -1;\n    };\n}","if (typeof Object.assign != 'function') {\n  Object.assign = function(target) {\n    'use strict';\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index];\n      if (source != null) {\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n}","if (!String.prototype.startsWith) {\n  String.prototype.startsWith = function(searchString, position) {\n    position = position || 0;\n    return this.indexOf(searchString, position) === position;\n  };\n}","(function() {\n  var lastTime = 0;\n  var vendors = ['webkit', 'moz'];\n  for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n    window.cancelAnimationFrame =\n      window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame)\n    window.requestAnimationFrame = function(callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n        timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n\n  if (!window.cancelAnimationFrame)\n    window.cancelAnimationFrame = function(id) {\n      clearTimeout(id);\n    };\n}());","(() => {\n    window.nueww = Object.assign({}, window.nueww, {\n        $(selector, elem) {\n            elem = elem || document;\n            return [].slice.call(elem.querySelectorAll(selector));\n        },\n    });\n})();\n","(() => {\n  let callbackCount = 0;\n\n  function jsonp(url, callback) {\n    const id = `nueww_jsonp_cb_${callbackCount}`;\n    const head = document.querySelector('head');\n    const script = document.createElement('script');\n\n    script.src = `${url + (url.indexOf('?') === -1 ? '?' : '&')}callback=${id}`;\n    head.appendChild(script);\n\n    window[id] = (data) => {\n      head.removeChild(script);\n      callback(data);\n      delete window[id];\n    };\n\n    callbackCount += 1;\n  }\n\n  function process(result) {\n    try {\n      return JSON.parse(result);\n    } catch (e) {\n      return result;\n    }\n  }\n\n  window.nueww = Object.assign({}, window.nueww, {\n    ajax(url, callback, jsonpMode) {\n      if (jsonpMode) {\n        jsonp(url, (data) => {\n          if (callback) {\n            callback(process(data));\n          }\n        });\n      } else {\n        const oReq = new XMLHttpRequest();\n\n        oReq.addEventListener('load', (e) => {\n          if (callback) {\n            callback(process(oReq.response), oReq, e);\n          }\n        });\n\n        oReq.open('GET', `${`${url + (url.indexOf('?') === -1 ? '?' : '&')}nocache=${(new Date()).getTime()}`}`);\n        oReq.send();\n      }\n    },\n  });\n})();\n","(() => {\n  const initObserverStack = {};\n  const initTimers = {};\n\n  function init(selector, node) {\n    const lastNode = window.nueww.$('*').pop();\n\n    if (node.contains(lastNode)) {\n      setTimeout(() => {\n        init(selector, node);\n      }, 100);\n    } else {\n      initObserverStack[selector].callback(node);\n    }\n  }\n\n  function callback(entries, observer) {\n    entries.forEach((entry) => {\n      if (entry.intersectionRatio > 0.01) {\n        const registeredSelectors = Object.keys(initObserverStack);\n\n        registeredSelectors.forEach((selector) => {\n          if (!entry.target.matches(selector)) {\n            return;\n          }\n\n          // InitTimer waits if the element gets scrolled by\n          initTimers[entry.target] = setTimeout(() => {\n            observer.unobserve(entry.target);\n            init(selector, entry.target);\n            initTimers[entry.target] = undefined;\n          }, 200);\n        });\n      } else {\n        clearTimeout(initTimers[entry.target]);\n      }\n    });\n  }\n\n  const intersectionObserver = window.IntersectionObserver ? new IntersectionObserver(callback, {\n    root: null,\n    threshold: 0.01,\n  }) : undefined;\n  const mutationObserver = new MutationObserver((mutations) => {\n    const registeredSelectors = Object.keys(initObserverStack);\n\n    mutations.forEach((mutation) => {\n      const addedNodes = [].slice.call(mutation.addedNodes);\n\n      addedNodes.forEach((node) => {\n        if (node.nodeType !== 1) {\n          return;\n        }\n\n        registeredSelectors.forEach((selector) => {\n          if (!node.matches(selector)) {\n            return;\n          }\n\n          if (\n            !window.IntersectionObserver ||\n            !initObserverStack[selector].lazy\n          ) {\n            init(selector, node);\n          } else {\n            intersectionObserver.observe(node);\n          }\n        });\n      });\n    });\n  });\n\n  const elementObservers = {};\n  const defaultConfig = {\n    attributes: false,\n    childList: true,\n    characterData: false,\n    subtree: true,\n  };\n\n  mutationObserver.observe(document.documentElement, defaultConfig);\n\n  window.nueww = Object.assign({}, window.nueww, {\n    observer: {\n      register(selector, callback, lazy = true) {\n        if (\n          initObserverStack[selector] &&\n          initObserverStack[selector].callback &&\n          initObserverStack[selector].callback === callback\n        ) {\n          return;\n        }\n\n        initObserverStack[selector] = {\n          callback,\n          lazy,\n        };\n\n        window.nueww.$(selector).forEach(elem => init(selector, elem));\n      },\n      observe(elem, callback, config) {\n        config = config || defaultConfig;\n\n        elementObservers[elem] = new MutationObserver((mutations) => {\n          mutations.forEach(() => {\n            if (callback) {\n              callback();\n            }\n          });\n        });\n\n        elementObservers[elem].observe(elem, config);\n      },\n      disconnect(elem) {\n        if (elementObservers[elem]) {\n          elementObservers[elem].disconnect();\n        }\n      },\n    },\n  });\n})();\n"]}